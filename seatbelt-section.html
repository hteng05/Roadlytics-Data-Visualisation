<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seatbelt Compliance and Enforcement Trends</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Madimi+One&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Angkor&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link rel="stylesheet" href="css/seatbelt.css">
    <link rel="stylesheet" href="css/index.css">
</head>
<body class="body">
    <script src="js/header.js"></script>
    
    <div class="seatbelt-hero">
        <div class="seatbelt-hero-overlay"></div>
        <div class="seatbelt-hero-content">
            <h1>SEATBELT ENFORCEMENT</h1>
            <p class="hero-tagline">A $1,078 decision that could cost you everything</p>
        </div>
    </div>
    
    <div class="seatbelt-container" id="section2-seatbelt">
        <div class="dashboard-panel">
            <!-- Filters Section -->
            <div class="filters-sidebar">
                <h3 class="filters-title"><i class="fas fa-filter"></i> Filter Data</h3>
                <div class="filter-group">
                    <label for="sb-year-filter">Year:</label>
                    <select id="sb-year-filter" class="modern-select">
                        <option value="">All Years</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="sb-age-filter">Age Group:</label>
                    <select id="sb-age-filter" class="modern-select">
                        <option value="">All Ages</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="sb-jurisdiction-filter">Jurisdiction:</label>
                    <select id="sb-jurisdiction-filter" class="modern-select">
                        <option value="">All Jurisdictions</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="sb-detection-filter">Detection Method:</label>
                    <select id="sb-detection-filter" class="modern-select">
                        <option value="">All Methods</option>
                    </select>
                </div>
                
                <button id="reset-filters" class="reset-btn">
                    <i class="fas fa-undo-alt"></i> Reset Filters
                </button>
                <div class="view-data-btn-container">
                    <a href="viewdata.html" class="view-data-btn">View data</a>
                </div>
                
                <!-- Summary Stats -->
                <div class="stats-overview">
                    <div class="stat-card">
                        <div class="stat-number" id="total-fines-stat">-</div>
                        <div class="stat-label">Total Fines</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="avg-fines-stat">-</div>
                        <div class="stat-label">Average per Year</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="top-jurisdiction-stat">-</div>
                        <div class="stat-label">Highest Jurisdiction</div>
                    </div>
                </div>
            </div>

            <!-- Charts Main Area -->
            <div class="charts-main">
                <div class="charts-grid">
                    <!-- Chart 4: Stacked Bar Chart -->
                    <div class="chart-wrapper">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-bar"></i> Enforcement Strategy by Year</h3>
                            <p class="chart-description">This stacked bar chart shows the number of seatbelt enforcement actions by detection method for each year.</p>
                        </div>
                        <div id="chart4-container" class="chart-container"></div>
                    </div>

                    <!-- Chart 5: Multi-Line Chart -->
                    <div class="chart-wrapper">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-line"></i> Trends Over Time by Jurisdiction</h3>
                            <p class="chart-description">This multi-line chart displays seatbelt-related fines or incidents over time for each jurisdiction. Click on a jurisdiction in the legend to show or hide its trend line.</p>
                        </div>
                        <div id="chart5-container" class="chart-container"></div>
                        <div id="chart5-legend" class="chart-legend"></div>
                    </div>

                    <!-- Chart 6: Pie/Donut Chart -->
                    <div class="chart-wrapper">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-pie"></i> Detection Method Distribution</h3>
                            <p class="chart-description">This pie chart shows the national distribution of seatbelt enforcement methods. Hover over each method to see the breakdown by age group.</p>
                        </div>
                        <div id="chart6-container" class="chart-container"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tooltip -->
    <div id="seatbelt-tooltip" class="tooltip"></div>
    
    <!-- Footer -->
    <footer class="footer">
        <p>Â© 2025 Roadlytics - Driving Change Through Data</p>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true
        });
    </script>
    <script src="../js/shared-constants.js"></script>
    <script src="../js/load-data.js"></script>
    <script src="../js/interactions.js"></script>
    <script>window.renderHeader();</script>
    <script src="../js/seatbelt/pie.js"></script>
    <script src="../js/seatbelt/multi_line.js"></script>
    <script src="../js/seatbelt/stacked_bar.js"></script>
    <script src="../js/seatbelt/main.js"></script>
</body>
</html>